{"ast":null,"code":"import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import{gameService}from'../../services/gameService';// Async thunks\nexport const startGame=createAsyncThunk('game/startGame',async(startedBy,_ref)=>{let{rejectWithValue}=_ref;try{const response=await gameService.startGame(startedBy);return response;}catch(error){var _error$response;return rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||{message:'Failed to start game'});}});export const makeMove=createAsyncThunk('game/makeMove',async(moveData,_ref2)=>{let{rejectWithValue}=_ref2;try{const response=await gameService.makeMove(moveData);return response;}catch(error){var _error$response2;return rejectWithValue(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||{message:'Failed to make move'});}});export const getGameState=createAsyncThunk('game/getGameState',async(gameId,_ref3)=>{let{rejectWithValue}=_ref3;try{const response=await gameService.getGameState(gameId);return response;}catch(error){var _error$response3;return rejectWithValue(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||{message:'Failed to get game state'});}});const initialState={board:[[null,null,null],[null,null,null],[null,null,null]],currentPlayer:null,gameOver:false,winner:null,isDraw:false,gameId:null,startedBy:null,loading:false,error:null,nextMove:null};const gameSlice=createSlice({name:'game',initialState,reducers:{resetGame:state=>{state.board=[[null,null,null],[null,null,null],[null,null,null]];state.currentPlayer=null;state.gameOver=false;state.winner=null;state.isDraw=false;state.gameId=null;state.startedBy=null;state.error=null;state.nextMove=null;},setBoard:(state,action)=>{state.board=action.payload;},setCurrentPlayer:(state,action)=>{state.currentPlayer=action.payload;},setGameOver:(state,action)=>{state.gameOver=action.payload;},setWinner:(state,action)=>{state.winner=action.payload;},setIsDraw:(state,action)=>{state.isDraw=action.payload;},clearError:state=>{state.error=null;},setNextMove:(state,action)=>{state.nextMove=action.payload;}},extraReducers:builder=>{builder// Start Game\n.addCase(startGame.pending,state=>{state.loading=true;state.error=null;}).addCase(startGame.fulfilled,(state,action)=>{state.loading=false;state.board=action.payload.board;state.currentPlayer=action.payload.currentPlayer;state.gameOver=action.payload.gameOver;state.winner=action.payload.winner;state.isDraw=action.payload.isDraw;state.gameId=action.payload.gameId;state.startedBy=action.payload.startedBy;state.nextMove=action.payload.nextMove;}).addCase(startGame.rejected,(state,action)=>{var _action$payload;state.loading=false;state.error=((_action$payload=action.payload)===null||_action$payload===void 0?void 0:_action$payload.message)||'Failed to start game';})// Make Move\n.addCase(makeMove.pending,state=>{state.loading=true;state.error=null;}).addCase(makeMove.fulfilled,(state,action)=>{state.loading=false;state.board=action.payload.board;state.currentPlayer=action.payload.currentPlayer;state.gameOver=action.payload.gameOver;state.winner=action.payload.winner;state.isDraw=action.payload.isDraw;state.nextMove=action.payload.nextMove;}).addCase(makeMove.rejected,(state,action)=>{var _action$payload2;state.loading=false;state.error=((_action$payload2=action.payload)===null||_action$payload2===void 0?void 0:_action$payload2.message)||'Failed to make move';})// Get Game State\n.addCase(getGameState.pending,state=>{state.loading=true;}).addCase(getGameState.fulfilled,(state,action)=>{state.loading=false;state.board=action.payload.board;state.gameOver=action.payload.gameOver;state.winner=action.payload.winner;state.isDraw=action.payload.isDraw;state.startedBy=action.payload.startedBy;}).addCase(getGameState.rejected,(state,action)=>{var _action$payload3;state.loading=false;state.error=((_action$payload3=action.payload)===null||_action$payload3===void 0?void 0:_action$payload3.message)||'Failed to get game state';});}});export const{resetGame,setBoard,setCurrentPlayer,setGameOver,setWinner,setIsDraw,clearError,setNextMove}=gameSlice.actions;export default gameSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","gameService","startGame","startedBy","_ref","rejectWithValue","response","error","_error$response","data","message","makeMove","moveData","_ref2","_error$response2","getGameState","gameId","_ref3","_error$response3","initialState","board","currentPlayer","gameOver","winner","isDraw","loading","nextMove","gameSlice","name","reducers","resetGame","state","setBoard","action","payload","setCurrentPlayer","setGameOver","setWinner","setIsDraw","clearError","setNextMove","extraReducers","builder","addCase","pending","fulfilled","rejected","_action$payload","_action$payload2","_action$payload3","actions","reducer"],"sources":["/Users/yousuf/Downloads/tic-tac-toe-engine/react-web-app/src/store/slices/gameSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { gameService } from '../../services/gameService';\n\n// Async thunks\nexport const startGame = createAsyncThunk(\n  'game/startGame',\n  async (startedBy, { rejectWithValue }) => {\n    try {\n      const response = await gameService.startGame(startedBy);\n      return response;\n    } catch (error) {\n      return rejectWithValue(error.response?.data || { message: 'Failed to start game' });\n    }\n  }\n);\n\nexport const makeMove = createAsyncThunk(\n  'game/makeMove',\n  async (moveData, { rejectWithValue }) => {\n    try {\n      const response = await gameService.makeMove(moveData);\n      return response;\n    } catch (error) {\n      return rejectWithValue(error.response?.data || { message: 'Failed to make move' });\n    }\n  }\n);\n\nexport const getGameState = createAsyncThunk(\n  'game/getGameState',\n  async (gameId, { rejectWithValue }) => {\n    try {\n      const response = await gameService.getGameState(gameId);\n      return response;\n    } catch (error) {\n      return rejectWithValue(error.response?.data || { message: 'Failed to get game state' });\n    }\n  }\n);\n\nconst initialState = {\n  board: [\n    [null, null, null],\n    [null, null, null],\n    [null, null, null]\n  ],\n  currentPlayer: null,\n  gameOver: false,\n  winner: null,\n  isDraw: false,\n  gameId: null,\n  startedBy: null,\n  loading: false,\n  error: null,\n  nextMove: null,\n};\n\nconst gameSlice = createSlice({\n  name: 'game',\n  initialState,\n  reducers: {\n    resetGame: (state) => {\n      state.board = [\n        [null, null, null],\n        [null, null, null],\n        [null, null, null]\n      ];\n      state.currentPlayer = null;\n      state.gameOver = false;\n      state.winner = null;\n      state.isDraw = false;\n      state.gameId = null;\n      state.startedBy = null;\n      state.error = null;\n      state.nextMove = null;\n    },\n    setBoard: (state, action) => {\n      state.board = action.payload;\n    },\n    setCurrentPlayer: (state, action) => {\n      state.currentPlayer = action.payload;\n    },\n    setGameOver: (state, action) => {\n      state.gameOver = action.payload;\n    },\n    setWinner: (state, action) => {\n      state.winner = action.payload;\n    },\n    setIsDraw: (state, action) => {\n      state.isDraw = action.payload;\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    setNextMove: (state, action) => {\n      state.nextMove = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Start Game\n      .addCase(startGame.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(startGame.fulfilled, (state, action) => {\n        state.loading = false;\n        state.board = action.payload.board;\n        state.currentPlayer = action.payload.currentPlayer;\n        state.gameOver = action.payload.gameOver;\n        state.winner = action.payload.winner;\n        state.isDraw = action.payload.isDraw;\n        state.gameId = action.payload.gameId;\n        state.startedBy = action.payload.startedBy;\n        state.nextMove = action.payload.nextMove;\n      })\n      .addCase(startGame.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload?.message || 'Failed to start game';\n      })\n      // Make Move\n      .addCase(makeMove.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(makeMove.fulfilled, (state, action) => {\n        state.loading = false;\n        state.board = action.payload.board;\n        state.currentPlayer = action.payload.currentPlayer;\n        state.gameOver = action.payload.gameOver;\n        state.winner = action.payload.winner;\n        state.isDraw = action.payload.isDraw;\n        state.nextMove = action.payload.nextMove;\n      })\n      .addCase(makeMove.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload?.message || 'Failed to make move';\n      })\n      // Get Game State\n      .addCase(getGameState.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(getGameState.fulfilled, (state, action) => {\n        state.loading = false;\n        state.board = action.payload.board;\n        state.gameOver = action.payload.gameOver;\n        state.winner = action.payload.winner;\n        state.isDraw = action.payload.isDraw;\n        state.startedBy = action.payload.startedBy;\n      })\n      .addCase(getGameState.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload?.message || 'Failed to get game state';\n      });\n  },\n});\n\nexport const {\n  resetGame,\n  setBoard,\n  setCurrentPlayer,\n  setGameOver,\n  setWinner,\n  setIsDraw,\n  clearError,\n  setNextMove,\n} = gameSlice.actions;\n\nexport default gameSlice.reducer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}