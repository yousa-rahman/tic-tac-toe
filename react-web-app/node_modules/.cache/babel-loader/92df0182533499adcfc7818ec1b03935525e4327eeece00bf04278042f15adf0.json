{"ast":null,"code":"import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import{statsService}from'../../services/statsService';// Async thunks\nexport const fetchUserStats=createAsyncThunk('stats/fetchUserStats',async(_,_ref)=>{let{rejectWithValue}=_ref;try{const response=await statsService.getUserStats();return response;}catch(error){var _error$response;return rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||{message:'Failed to fetch user stats'});}});export const fetchRecentGames=createAsyncThunk('stats/fetchRecentGames',async function(){let limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;let{rejectWithValue}=arguments.length>1?arguments[1]:undefined;try{const response=await statsService.getRecentGames(limit);return response;}catch(error){var _error$response2;return rejectWithValue(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||{message:'Failed to fetch recent games'});}});export const fetchLeaderboard=createAsyncThunk('stats/fetchLeaderboard',async function(){let limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;let{rejectWithValue}=arguments.length>1?arguments[1]:undefined;try{const response=await statsService.getLeaderboard(limit);return response;}catch(error){var _error$response3;return rejectWithValue(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||{message:'Failed to fetch leaderboard'});}});const initialState={userStats:{wins:0,losses:0,draws:0,totalGames:0,winPercentage:0},recentGames:[],leaderboard:[],loading:false,error:null};const statsSlice=createSlice({name:'stats',initialState,reducers:{clearError:state=>{state.error=null;},updateUserStats:(state,action)=>{state.userStats={...state.userStats,...action.payload};}},extraReducers:builder=>{builder// Fetch User Stats\n.addCase(fetchUserStats.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchUserStats.fulfilled,(state,action)=>{state.loading=false;state.userStats=action.payload;}).addCase(fetchUserStats.rejected,(state,action)=>{var _action$payload;state.loading=false;state.error=((_action$payload=action.payload)===null||_action$payload===void 0?void 0:_action$payload.message)||'Failed to fetch user stats';})// Fetch Recent Games\n.addCase(fetchRecentGames.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchRecentGames.fulfilled,(state,action)=>{state.loading=false;state.recentGames=action.payload.games;}).addCase(fetchRecentGames.rejected,(state,action)=>{var _action$payload2;state.loading=false;state.error=((_action$payload2=action.payload)===null||_action$payload2===void 0?void 0:_action$payload2.message)||'Failed to fetch recent games';})// Fetch Leaderboard\n.addCase(fetchLeaderboard.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchLeaderboard.fulfilled,(state,action)=>{state.loading=false;state.leaderboard=action.payload.leaderboard;}).addCase(fetchLeaderboard.rejected,(state,action)=>{var _action$payload3;state.loading=false;state.error=((_action$payload3=action.payload)===null||_action$payload3===void 0?void 0:_action$payload3.message)||'Failed to fetch leaderboard';});}});export const{clearError,updateUserStats}=statsSlice.actions;export default statsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","statsService","fetchUserStats","_","_ref","rejectWithValue","response","getUserStats","error","_error$response","data","message","fetchRecentGames","limit","arguments","length","undefined","getRecentGames","_error$response2","fetchLeaderboard","getLeaderboard","_error$response3","initialState","userStats","wins","losses","draws","totalGames","winPercentage","recentGames","leaderboard","loading","statsSlice","name","reducers","clearError","state","updateUserStats","action","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","_action$payload","games","_action$payload2","_action$payload3","actions","reducer"],"sources":["/Users/yousuf/Downloads/tic-tac-toe-engine/react-web-app/src/store/slices/statsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { statsService } from '../../services/statsService';\n\n// Async thunks\nexport const fetchUserStats = createAsyncThunk(\n  'stats/fetchUserStats',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await statsService.getUserStats();\n      return response;\n    } catch (error) {\n      return rejectWithValue(error.response?.data || { message: 'Failed to fetch user stats' });\n    }\n  }\n);\n\nexport const fetchRecentGames = createAsyncThunk(\n  'stats/fetchRecentGames',\n  async (limit = 10, { rejectWithValue }) => {\n    try {\n      const response = await statsService.getRecentGames(limit);\n      return response;\n    } catch (error) {\n      return rejectWithValue(error.response?.data || { message: 'Failed to fetch recent games' });\n    }\n  }\n);\n\nexport const fetchLeaderboard = createAsyncThunk(\n  'stats/fetchLeaderboard',\n  async (limit = 10, { rejectWithValue }) => {\n    try {\n      const response = await statsService.getLeaderboard(limit);\n      return response;\n    } catch (error) {\n      return rejectWithValue(error.response?.data || { message: 'Failed to fetch leaderboard' });\n    }\n  }\n);\n\nconst initialState = {\n  userStats: {\n    wins: 0,\n    losses: 0,\n    draws: 0,\n    totalGames: 0,\n    winPercentage: 0,\n  },\n  recentGames: [],\n  leaderboard: [],\n  loading: false,\n  error: null,\n};\n\nconst statsSlice = createSlice({\n  name: 'stats',\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n    updateUserStats: (state, action) => {\n      state.userStats = { ...state.userStats, ...action.payload };\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Fetch User Stats\n      .addCase(fetchUserStats.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchUserStats.fulfilled, (state, action) => {\n        state.loading = false;\n        state.userStats = action.payload;\n      })\n      .addCase(fetchUserStats.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload?.message || 'Failed to fetch user stats';\n      })\n      // Fetch Recent Games\n      .addCase(fetchRecentGames.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchRecentGames.fulfilled, (state, action) => {\n        state.loading = false;\n        state.recentGames = action.payload.games;\n      })\n      .addCase(fetchRecentGames.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload?.message || 'Failed to fetch recent games';\n      })\n      // Fetch Leaderboard\n      .addCase(fetchLeaderboard.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchLeaderboard.fulfilled, (state, action) => {\n        state.loading = false;\n        state.leaderboard = action.payload.leaderboard;\n      })\n      .addCase(fetchLeaderboard.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload?.message || 'Failed to fetch leaderboard';\n      });\n  },\n});\n\nexport const { clearError, updateUserStats } = statsSlice.actions;\nexport default statsSlice.reducer; "],"mappings":"AAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAChE,OAASC,YAAY,KAAQ,6BAA6B,CAE1D;AACA,MAAO,MAAM,CAAAC,cAAc,CAAGF,gBAAgB,CAC5C,sBAAsB,CACtB,MAAOG,CAAC,CAAAC,IAAA,GAA0B,IAAxB,CAAEC,eAAgB,CAAC,CAAAD,IAAA,CAC3B,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAL,YAAY,CAACM,YAAY,CAAC,CAAC,CAClD,MAAO,CAAAD,QAAQ,CACjB,CAAE,MAAOE,KAAK,CAAE,KAAAC,eAAA,CACd,MAAO,CAAAJ,eAAe,CAAC,EAAAI,eAAA,CAAAD,KAAK,CAACF,QAAQ,UAAAG,eAAA,iBAAdA,eAAA,CAAgBC,IAAI,GAAI,CAAEC,OAAO,CAAE,4BAA6B,CAAC,CAAC,CAC3F,CACF,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,gBAAgB,CAAGZ,gBAAgB,CAC9C,wBAAwB,CACxB,gBAA2C,IAApC,CAAAa,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IAAE,CAAET,eAAgB,CAAC,CAAAS,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CACpC,GAAI,CACF,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAAL,YAAY,CAACgB,cAAc,CAACJ,KAAK,CAAC,CACzD,MAAO,CAAAP,QAAQ,CACjB,CAAE,MAAOE,KAAK,CAAE,KAAAU,gBAAA,CACd,MAAO,CAAAb,eAAe,CAAC,EAAAa,gBAAA,CAAAV,KAAK,CAACF,QAAQ,UAAAY,gBAAA,iBAAdA,gBAAA,CAAgBR,IAAI,GAAI,CAAEC,OAAO,CAAE,8BAA+B,CAAC,CAAC,CAC7F,CACF,CACF,CAAC,CAED,MAAO,MAAM,CAAAQ,gBAAgB,CAAGnB,gBAAgB,CAC9C,wBAAwB,CACxB,gBAA2C,IAApC,CAAAa,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IAAE,CAAET,eAAgB,CAAC,CAAAS,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CACpC,GAAI,CACF,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAAL,YAAY,CAACmB,cAAc,CAACP,KAAK,CAAC,CACzD,MAAO,CAAAP,QAAQ,CACjB,CAAE,MAAOE,KAAK,CAAE,KAAAa,gBAAA,CACd,MAAO,CAAAhB,eAAe,CAAC,EAAAgB,gBAAA,CAAAb,KAAK,CAACF,QAAQ,UAAAe,gBAAA,iBAAdA,gBAAA,CAAgBX,IAAI,GAAI,CAAEC,OAAO,CAAE,6BAA8B,CAAC,CAAC,CAC5F,CACF,CACF,CAAC,CAED,KAAM,CAAAW,YAAY,CAAG,CACnBC,SAAS,CAAE,CACTC,IAAI,CAAE,CAAC,CACPC,MAAM,CAAE,CAAC,CACTC,KAAK,CAAE,CAAC,CACRC,UAAU,CAAE,CAAC,CACbC,aAAa,CAAE,CACjB,CAAC,CACDC,WAAW,CAAE,EAAE,CACfC,WAAW,CAAE,EAAE,CACfC,OAAO,CAAE,KAAK,CACdvB,KAAK,CAAE,IACT,CAAC,CAED,KAAM,CAAAwB,UAAU,CAAGjC,WAAW,CAAC,CAC7BkC,IAAI,CAAE,OAAO,CACbX,YAAY,CACZY,QAAQ,CAAE,CACRC,UAAU,CAAGC,KAAK,EAAK,CACrBA,KAAK,CAAC5B,KAAK,CAAG,IAAI,CACpB,CAAC,CACD6B,eAAe,CAAEA,CAACD,KAAK,CAAEE,MAAM,GAAK,CAClCF,KAAK,CAACb,SAAS,CAAG,CAAE,GAAGa,KAAK,CAACb,SAAS,CAAE,GAAGe,MAAM,CAACC,OAAQ,CAAC,CAC7D,CACF,CAAC,CACDC,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OACE;AAAA,CACCC,OAAO,CAACxC,cAAc,CAACyC,OAAO,CAAGP,KAAK,EAAK,CAC1CA,KAAK,CAACL,OAAO,CAAG,IAAI,CACpBK,KAAK,CAAC5B,KAAK,CAAG,IAAI,CACpB,CAAC,CAAC,CACDkC,OAAO,CAACxC,cAAc,CAAC0C,SAAS,CAAE,CAACR,KAAK,CAAEE,MAAM,GAAK,CACpDF,KAAK,CAACL,OAAO,CAAG,KAAK,CACrBK,KAAK,CAACb,SAAS,CAAGe,MAAM,CAACC,OAAO,CAClC,CAAC,CAAC,CACDG,OAAO,CAACxC,cAAc,CAAC2C,QAAQ,CAAE,CAACT,KAAK,CAAEE,MAAM,GAAK,KAAAQ,eAAA,CACnDV,KAAK,CAACL,OAAO,CAAG,KAAK,CACrBK,KAAK,CAAC5B,KAAK,CAAG,EAAAsC,eAAA,CAAAR,MAAM,CAACC,OAAO,UAAAO,eAAA,iBAAdA,eAAA,CAAgBnC,OAAO,GAAI,4BAA4B,CACvE,CAAC,CACD;AAAA,CACC+B,OAAO,CAAC9B,gBAAgB,CAAC+B,OAAO,CAAGP,KAAK,EAAK,CAC5CA,KAAK,CAACL,OAAO,CAAG,IAAI,CACpBK,KAAK,CAAC5B,KAAK,CAAG,IAAI,CACpB,CAAC,CAAC,CACDkC,OAAO,CAAC9B,gBAAgB,CAACgC,SAAS,CAAE,CAACR,KAAK,CAAEE,MAAM,GAAK,CACtDF,KAAK,CAACL,OAAO,CAAG,KAAK,CACrBK,KAAK,CAACP,WAAW,CAAGS,MAAM,CAACC,OAAO,CAACQ,KAAK,CAC1C,CAAC,CAAC,CACDL,OAAO,CAAC9B,gBAAgB,CAACiC,QAAQ,CAAE,CAACT,KAAK,CAAEE,MAAM,GAAK,KAAAU,gBAAA,CACrDZ,KAAK,CAACL,OAAO,CAAG,KAAK,CACrBK,KAAK,CAAC5B,KAAK,CAAG,EAAAwC,gBAAA,CAAAV,MAAM,CAACC,OAAO,UAAAS,gBAAA,iBAAdA,gBAAA,CAAgBrC,OAAO,GAAI,8BAA8B,CACzE,CAAC,CACD;AAAA,CACC+B,OAAO,CAACvB,gBAAgB,CAACwB,OAAO,CAAGP,KAAK,EAAK,CAC5CA,KAAK,CAACL,OAAO,CAAG,IAAI,CACpBK,KAAK,CAAC5B,KAAK,CAAG,IAAI,CACpB,CAAC,CAAC,CACDkC,OAAO,CAACvB,gBAAgB,CAACyB,SAAS,CAAE,CAACR,KAAK,CAAEE,MAAM,GAAK,CACtDF,KAAK,CAACL,OAAO,CAAG,KAAK,CACrBK,KAAK,CAACN,WAAW,CAAGQ,MAAM,CAACC,OAAO,CAACT,WAAW,CAChD,CAAC,CAAC,CACDY,OAAO,CAACvB,gBAAgB,CAAC0B,QAAQ,CAAE,CAACT,KAAK,CAAEE,MAAM,GAAK,KAAAW,gBAAA,CACrDb,KAAK,CAACL,OAAO,CAAG,KAAK,CACrBK,KAAK,CAAC5B,KAAK,CAAG,EAAAyC,gBAAA,CAAAX,MAAM,CAACC,OAAO,UAAAU,gBAAA,iBAAdA,gBAAA,CAAgBtC,OAAO,GAAI,6BAA6B,CACxE,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEwB,UAAU,CAAEE,eAAgB,CAAC,CAAGL,UAAU,CAACkB,OAAO,CACjE,cAAe,CAAAlB,UAAU,CAACmB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}