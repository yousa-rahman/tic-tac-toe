{"ast":null,"code":"import React,{useEffect}from'react';import{Routes,Route,Navigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{toast}from'react-toastify';import{verifyToken}from'./store/slices/authSlice';import{clearError as clearAuthError}from'./store/slices/authSlice';import{clearError as clearGameError}from'./store/slices/gameSlice';import{clearError as clearStatsError}from'./store/slices/statsSlice';import Navbar from'./components/Navbar';import Login from'./pages/Login';import Register from'./pages/Register';import Game from'./pages/Game';import Statistics from'./pages/Statistics';import ProtectedRoute from'./components/ProtectedRoute';import LoadingSpinner from'./components/LoadingSpinner';import ErrorBoundary from'./components/ErrorBoundary';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const dispatch=useDispatch();const{isAuthenticated,loading:authLoading,error:authError}=useSelector(state=>state.auth);const{error:gameError}=useSelector(state=>state.game);const{error:statsError}=useSelector(state=>state.stats);// Verify token on app load\nuseEffect(()=>{if(isAuthenticated){dispatch(verifyToken());}},[dispatch,isAuthenticated]);// Handle errors with toast notifications\nuseEffect(()=>{if(authError){toast.error(authError);dispatch(clearAuthError());}if(gameError){toast.error(gameError);dispatch(clearGameError());}if(statsError){toast.error(statsError);dispatch(clearStatsError());}},[authError,gameError,statsError,dispatch]);if(authLoading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}return/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/game\",replace:true}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/game\",replace:true}):/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/game\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Game,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/statistics\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Statistics,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/game\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","Routes","Route","Navigate","useDispatch","useSelector","toast","verifyToken","clearError","clearAuthError","clearGameError","clearStatsError","Navbar","Login","Register","Game","Statistics","ProtectedRoute","LoadingSpinner","ErrorBoundary","jsx","_jsx","jsxs","_jsxs","App","dispatch","isAuthenticated","loading","authLoading","error","authError","state","auth","gameError","game","statsError","stats","children","className","path","element","to","replace"],"sources":["/Users/yousuf/Downloads/tic-tac-toe-engine/react-web-app/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\n\nimport { verifyToken } from './store/slices/authSlice';\nimport { clearError as clearAuthError } from './store/slices/authSlice';\nimport { clearError as clearGameError } from './store/slices/gameSlice';\nimport { clearError as clearStatsError } from './store/slices/statsSlice';\n\nimport Navbar from './components/Navbar';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Game from './pages/Game';\nimport Statistics from './pages/Statistics';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport LoadingSpinner from './components/LoadingSpinner';\nimport ErrorBoundary from './components/ErrorBoundary';\n\nimport './App.css';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const { isAuthenticated, loading: authLoading, error: authError } = useSelector(state => state.auth);\n  const { error: gameError } = useSelector(state => state.game);\n  const { error: statsError } = useSelector(state => state.stats);\n\n  // Verify token on app load\n  useEffect(() => {\n    if (isAuthenticated) {\n      dispatch(verifyToken());\n    }\n  }, [dispatch, isAuthenticated]);\n\n  // Handle errors with toast notifications\n  useEffect(() => {\n    if (authError) {\n      toast.error(authError);\n      dispatch(clearAuthError());\n    }\n    if (gameError) {\n      toast.error(gameError);\n      dispatch(clearGameError());\n    }\n    if (statsError) {\n      toast.error(statsError);\n      dispatch(clearStatsError());\n    }\n  }, [authError, gameError, statsError, dispatch]);\n\n  if (authLoading) {\n    return <LoadingSpinner />;\n  }\n\n  return (\n    <ErrorBoundary>\n      <div className=\"App\">\n        <Navbar />\n        <main className=\"main-content\">\n          <Routes>\n            <Route path=\"/login\" element={\n              isAuthenticated ? <Navigate to=\"/game\" replace /> : <Login />\n            } />\n            <Route path=\"/register\" element={\n              isAuthenticated ? <Navigate to=\"/game\" replace /> : <Register />\n            } />\n            <Route path=\"/game\" element={\n              <ProtectedRoute>\n                <Game />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/statistics\" element={\n              <ProtectedRoute>\n                <Statistics />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/\" element={\n              isAuthenticated ? <Navigate to=\"/game\" replace /> : <Navigate to=\"/login\" replace />\n            } />\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n          </Routes>\n        </main>\n      </div>\n    </ErrorBoundary>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}